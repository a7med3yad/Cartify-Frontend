<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cartify Storefront</title>
  <link rel="stylesheet" href="assets/styles.css">
  <script type="module" src="assets/app-customer.js" defer></script>
</head>

<body>
  <div class="topbar">
    <div class="container nav">
      <a class="brand" href="#">
        <span class="status-dot success"></span>
        Cartify
      </a>
      <div class="nav-links">
        <a href="#products" class="active">Shop</a>
        <a href="#orders">Orders</a>
        <a href="#checkout">Checkout</a>
      </div>
      <div class="actions">
        <button class="btn btn-ghost" id="cart-toggle">Cart (<span id="cart-count">0</span>)</button>
        <button class="btn btn-ghost" id="login-btn">Login</button>
        <button class="btn btn-primary" id="register-btn">Register</button>
        <button class="btn btn-ghost" id="logout-btn" hidden>Logout</button>
      </div>
    </div>
  </div>

  <main class="container">
    <section class="hero">
      <div class="hero-grid">
        <div class="hero-card">
          <div class="chip">
            <span class="status-dot success"></span>
            Live API connected
          </div>
          <h1>Shop from real merchants on Cartify</h1>
          <p>Browse categories, add items to your cart, and place real orders against the Cartify backend. Sign in to sync your cart, check order status, and track deliveries.</p>
          <div class="controls">
            <button class="btn btn-primary" id="cta-login">Start shopping</button>
            <button class="btn btn-ghost" id="cta-merchant">I'm a merchant</button>
          </div>
        </div>
        <div class="card">
          <div class="section-header">
            <span class="section-title">Quick filters</span>
            <button class="btn btn-ghost" id="refresh-products">Refresh</button>
          </div>
          <div class="stack">
            <div class="input-row">
              <div class="field">
                <label for="filter-category">Category</label>
                <select id="filter-category"></select>
              </div>
              <div class="field">
                <label for="filter-subcategory">Subcategory</label>
                <select id="filter-subcategory"></select>
              </div>
            </div>
            <div class="field">
              <label for="search-input">Search (client side)</label>
              <input id="search-input" type="search" placeholder="Search loaded products by name">
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="products">
      <div class="section-header">
        <div>
          <div class="section-title">Products</div>
          <p class="muted" id="product-subtitle">Choose a category to load products from the API.</p>
        </div>
      </div>
      <div class="grid grid-3" id="product-grid"></div>
      <div class="empty" id="product-empty" hidden>No products found for the selected filters.</div>
    </section>

    <section class="section panel" id="checkout">
      <div class="section-header">
        <div class="section-title">Checkout</div>
        <span class="pill">Requires login</span>
      </div>
      <form id="checkout-form" class="stack">
        <div class="input-row">
          <div class="field">
            <label for="checkout-store">Store ID</label>
            <input id="checkout-store" name="storeId" type="number" min="1" placeholder="e.g. 1" required>
          </div>
          <div class="field">
            <label for="checkout-payment">Payment Type ID</label>
            <input id="checkout-payment" name="paymentTypeId" type="number" min="1" value="1">
          </div>
          <div class="field">
            <label for="checkout-shipment">Shipment Method ID</label>
            <input id="checkout-shipment" name="shipmentMethodId" type="number" min="1" value="1">
          </div>
        </div>
        <div class="field">
          <label for="checkout-tax">Tax (optional)</label>
          <input id="checkout-tax" name="tax" type="number" step="0.01" placeholder="0.00">
        </div>
        <div class="input-row">
          <div class="field">
            <label>Total items</label>
            <div id="checkout-items" class="pill">0</div>
          </div>
          <div class="field">
            <label>Cart total</label>
            <div id="checkout-total" class="pill">$0.00</div>
          </div>
        </div>
        <button class="btn btn-primary" type="submit">Place order</button>
      </form>
    </section>

    <section class="section panel" id="orders">
      <div class="section-header">
        <div class="section-title">My orders</div>
        <button class="btn btn-ghost" id="reload-orders">Reload</button>
      </div>
      <div class="stack" id="orders-list"></div>
      <div class="empty" id="orders-empty" hidden>No orders placed yet.</div>
    </section>
  </main>

  <aside class="drawer" id="cart-drawer">
    <div class="section-header">
      <div class="section-title">Cart</div>
      <button class="btn btn-ghost" id="close-cart">Close</button>
    </div>
    <div class="stack" id="cart-items"></div>
    <div class="stack">
      <div class="input-row">
        <div class="field">
          <label>Total</label>
          <div id="cart-total" class="price">$0.00</div>
        </div>
        <div class="field text-right">
          <label>&nbsp;</label>
          <div class="controls">
            <button class="btn btn-ghost" id="clear-cart">Clear</button>
            <button class="btn btn-primary" id="cart-checkout">Checkout</button>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <div class="modal-backdrop" id="login-modal">
    <div class="modal">
      <div class="section-header">
        <div class="section-title">Login</div>
        <button class="btn btn-ghost" data-close-modal>Close</button>
      </div>
      <form id="login-form" class="stack">
        <div class="field">
          <label for="login-username">Username</label>
          <input id="login-username" name="username" required>
        </div>
        <div class="field">
          <label for="login-password">Password</label>
          <input id="login-password" name="password" type="password" required>
        </div>
        <button class="btn btn-primary" type="submit">Sign in</button>
      </form>
    </div>
  </div>

  <div class="modal-backdrop" id="register-modal">
    <div class="modal">
      <div class="section-header">
        <div class="section-title">Create account</div>
        <button class="btn btn-ghost" data-close-modal>Close</button>
      </div>
      <form id="register-form" class="stack">
        <div class="input-row">
          <div class="field">
            <label for="reg-first">First name</label>
            <input id="reg-first" name="FirstName" required>
          </div>
          <div class="field">
            <label for="reg-last">Last name</label>
            <input id="reg-last" name="LastName" required>
          </div>
        </div>
        <div class="field">
          <label for="reg-username">Username</label>
          <input id="reg-username" name="UserName" required>
        </div>
        <div class="field">
          <label for="reg-email">Email</label>
          <input id="reg-email" name="Email" type="email" required>
        </div>
        <div class="field">
          <label for="reg-password">Password</label>
          <input id="reg-password" name="Password" type="password" required>
        </div>
        <div class="input-row">
          <div class="field">
            <label for="reg-birth">Birth date</label>
            <input id="reg-birth" name="BirthDate" type="date" required>
          </div>
          <div class="field">
            <label for="reg-gender">Gender</label>
            <input id="reg-gender" name="Gender" placeholder="Male / Female / Other" required>
          </div>
        </div>
        <div class="input-row">
          <div class="field">
            <label for="reg-phone">Telephone</label>
            <input id="reg-phone" name="Telephone" type="tel" required>
          </div>
          <div class="field">
            <label for="reg-country">Country</label>
            <input id="reg-country" name="Country" required>
          </div>
        </div>
        <div class="input-row">
          <div class="field">
            <label for="reg-city">City</label>
            <input id="reg-city" name="City" required>
          </div>
          <div class="field">
            <label for="reg-state">State</label>
            <input id="reg-state" name="State" required>
          </div>
          <div class="field">
            <label for="reg-zip">Zip / Postal code</label>
            <input id="reg-zip" name="ZipCode" required>
          </div>
        </div>
        <div class="field">
          <label for="reg-address">Street address</label>
          <input id="reg-address" name="StreetAddress" required>
        </div>
        <button class="btn btn-primary" type="submit">Create account</button>
      </form>
    </div>
  </div>

  <div class="toast-container" id="toast-container"></div>
</body>

</html>
